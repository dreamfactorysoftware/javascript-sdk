<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <style>
        body{
            font-family:sans-serif, Arial;
        }
    </style>
    <script type="text/javascript">
        (function() {
            var method;
            var noop = function () {};
            var methods = [
                'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
                'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
                'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
                'timeStamp', 'trace', 'warn'
            ];
            var length = methods.length;
            var console = (window.console = window.console || {});

            while (length--) {
                method = methods[length];

                // Only stub undefined methods.
                if (!console[method]) {
                    console[method] = noop;
                }
            }
        }());
    </script>
</head>
<body>

<p>
    This auto-generated index.html file is the starting point for your application.
</p>

<p>The Javascript SDK is a convenience wrapper for all the methods in our REST API. The SDK contains your REST endpoint and API key so you can start coding immediately. When a new service is provisioned in the Admin Console the JavaScript SDK will automatically include that service the next time your application is loaded.</p>

<p>Access the SDK by using the "df" object. You can see the "df" object in your debugger by opening up the DOM inspection tab. The "df" object is attached to the "window" object. For example, using Chrome's Dev Tools, open the console and start typing "window.df.apis" to display all the methods and properties.</p>

<p>Use of this SDK on the local file system requires "*" to be in your list of allowed hosts in the CORS configuration section of the Admin app.</p>
<br/>
<p>
    View the <a href="readme.html">README</a> for helpful information and tutorials, including CORs access, authentication, and sessions.
</p>

<h3>Making API calls</h3>


<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>

<p><b>Authenticate into your DreamFactory Services Platform</b><br/>
<p>First, log in to your DreamFactory Services Platform to see these API calls work.</p>
<p>

    <input type="email" id="email"><br/>
    <input type="password" id="password"><br/>
    <button onclick="window.app.login()">Log In</button>
<div id="login-status" style="color:blue"></div>


<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<P><b>Retrieve records from the "todo" sample table located in your DreamFactory Services Platform</b></P>

<pre>
   window.df.apis.db.getRecords({table_name: "todo"}, function (response) {
          //Do something with the data;
            console.log(response);
        });
</pre>
<button style="display:none" id="try-now-get" onclick="window.app.getTodos()">Try it Now</button><br/>
<p><b>Response:</b></p>
<textarea class="results" style="width:400px;height:200px" id="get-results">Loading APIs...</textarea>


<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<P><b>Insert records into the "todo" sample table located in your DreamFactory Services Platform</b></P>

<pre>
        var item = {"record":[{"name":"New Item","complete":false}]};
        window.df.apis.db.createRecords({"table_name":"todo", "body":item}, function(response) {
            document.getElementById("post-results").innerHTML = JSON.stringify(response);
        }, function(response) {
            document.getElementById("post-results").innerHTML = JSON.stringify(response);
        });
</pre>
<button style="display:none" id="try-now-post" onclick="window.app.addTodo()">Try it Now</button><br/>
<p><b>Response:</b></p>
<textarea class="results" style="width:400px;height:200px" id="post-results">Loading APIs...</textarea>

<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<P><b>Update a record to be complete in the "todo" sample table located in your DreamFactory Services Platform</b></P>

<pre>
        var id= document.getElementById("update-id").value;
        var complete = true;
        var item = {"record":[{"id":id,"complete":complete}]};
        df.apis.db.updateRecords({"table_name":"todo", "body":item}, function(response) {
            document.getElementById("update-results").innerHTML = JSON.stringify(response);
        }, function(response) {
            document.getElementById("update-results").innerHTML = JSON.stringify(response);
        });
</pre>
ID of record to update : <input type="text" id="update-id">
<button style="display:none" id="try-now-update" onclick="window.app.updateTodo()">Try it Now</button><br/>
<p><b>Response:</b></p>
<textarea class="results" style="width:400px;height:200px" id="update-results">Loading APIs...</textarea>

<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>

<P><b>Delete a record from the "todo" sample table located in your DreamFactory Services Platform</b></P>
<pre>
        var id= document.getElementById("delete-id").value;
        window.df.apis.db.deleteRecords({"table_name":"todo", "ids":id}, function(response) {
            document.getElementById("delete-results").innerHTML = JSON.stringify(response);
        }, function(response) {
            document.getElementById("delete-results").innerHTML = JSON.stringify(response);
        });
</pre>
ID of record to delete : <input type="text" id="delete-id">
<button style="display:none" id="try-now-delete" onclick="window.app.deleteTodo()">Try it Now</button><br/>
<p><b>Response:</b></p>
<textarea class="results" style="width:400px;height:200px" id="delete-results">Loading APIs...</textarea>


<script src='lib/shred.bundle.js' type='text/javascript'></script>
<script src='lib/swagger.js' type='text/javascript'></script>
<script src='lib/sdk-init.js' type='text/javascript'></script>
<script src='app.js' type='text/javascript'></script>

</body>
</html>
